<html manifest="/mobile/cache.manifest">
<head>
<link rel="shortcut icon" href="../images/favicon.ico"
	type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="layout" content="main" />
<title>Curious</title>

<!--script type="text/javascript">
var cacheStatusValues = [];
cacheStatusValues[0] = 'uncached';
cacheStatusValues[1] = 'idle';
cacheStatusValues[2] = 'checking';
cacheStatusValues[3] = 'downloading';
cacheStatusValues[4] = 'updateready';
cacheStatusValues[5] = 'obsolete';

var cache = window.applicationCache;
cache.addEventListener('cached', logEvent, false);
cache.addEventListener('checking', logEvent, false);
cache.addEventListener('downloading', logEvent, false);
cache.addEventListener('error', logEvent, false);
cache.addEventListener('noupdate', logEvent, false);
cache.addEventListener('obsolete', logEvent, false);
cache.addEventListener('progress', logEvent, false);
cache.addEventListener('updateready', logEvent, false);

function logEvent(e) {
	var online, status, type, message;
	online = (navigator.onLine) ? 'yes' : 'no';
	status = cacheStatusValues[cache.status];
	type = e.type;
	message = 'online: ' + online;
	message+= ', event: ' + type;
	message+= ', status: ' + status;
	if (type == 'error' && navigator.onLine) {
		message+= ' (prolly a syntax error in manifest)';
	}
	console.log(message);
}

window.applicationCache.addEventListener(
	'updateready',
	function() {
		window.applicationCache.swapCache();
		console.log('swap cache has been called');
	},
	false
);

setInterval(function(){cache.update()}, 10000);
</script-->

<meta name="description" content="A platform for health hackers" />
<meta names="apple-mobile-web-app-status-bar-style"
	content="black-translucent" />
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, target-densityDpi=device-dpi" />

<meta name="apple-mobile-web-app-capable" content="yes" />
<script type="text/javascript" src="../js/jquery/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="../js/jquery/jquery.offline.js"></script>
<script type="text/javascript" src="../js/jquery/jquery.json-2.2.js"></script>
<script type="text/javascript"
	src="../js/jquery/jquery-ui-1.8.18.custom.js"></script>
<script type="text/javascript"
	src="../js/jquery/jquery.selectable.custom.js?ver=7"></script>
<script type="text/javascript" src="../js/jstz-1.0.4.min.js"></script>

<script type="text/javascript" src="../js/curious/base.js?ver=9"></script>
<script type="text/javascript" src="../js/curious/curious.js?ver=9"></script>
<script type="text/javascript" src="../js/curious/autocomplete.js?ver=9"></script>
<script type="text/javascript" src="../js/mobile/mobileBase.js?ver=10"></script>

<script type="text/javascript"
	src="../js/jquery/jquery.mobile.touch.min.js?ver=9"></script>
<link rel="apple-touch-icon"
	href="../images/apple-touch-icon-precomposed.png" />
<link rel="shortcut icon" href="../images/favicon.ico"
	type="image/x-icon" />
<link rel="stylesheet" href="../css/mobile.css?ver=1" />
<link type="text/css"
	href="../css/smoothness/jquery-ui-1.8.16.custom2.css" rel="stylesheet">
<link type="text/css" href="../css/mobile/trackPage.css?ver=10"
	rel="stylesheet">

</head>
<body>

	<div id="alert-message" title="" style="display: none">
		<p>&nbsp;
		<p>
		<div id="alert-message-text"></div>
	</div>
	<div id="body">
		<div id="loginPage"
			style="display: none; width: 350px; margin-left: auto; margin-right: auto;">

			<div class="login">

				<a href="javascript:startLogin(0)"><img border="0"
					id="loginlogo" src="../images/logo.gif" width="205" height="230"
					alt="Curious" style="display: none;" /></a>

				<form id="loginform" onsubmit="return false;" action="#">
					<input type="hidden" name="precontroller" value="" /> <input
						type="hidden" name="preaction" value="" />
					<div id="createaccountDiv" class="loginlabel" style="display: none">
						Create an account:</div>
					<div id="recoverinfoDiv" class="loginlabel" style="display: none">
						Request your info by entering your username.</div>
					<div style="width: 205px">
						<div id="emailDiv" class="logininput" style="display: none">
							<input class="textField" type="text" id="emailField" name="email"
								value="" />
						</div>
						<div id="usernameDiv" class="logininput">
							<input class="textField" type="text" id="usernameField"
								name="username" value="" />
						</div>
						<div id="passwordDiv" class="logininput">
							<input class="textField" type="password" id="passwordField"
								name="password" />
						</div>
						<div id="loginButtonDiv" class="okCancelDiv">
							<img class="loginButton" src="../images/login.png" width="76"
								height="24" alt="Login" onclick="submitForm()" /><br />
						</div>
						<div id="cancelButtonDiv" class="okCancelDiv">
							<img class="cancelButton" src="../images/cancel.png" width="76"
								height="24" alt="Cancel" onclick="javascript:startLogin(0)" /> <img
								class="loginButton" src="../images/submit.png" width="76"
								height="24" alt="Submit" onclick="submitForm()" /><br />
						</div>
					</div>
				</form>
				<div id="loginoptionsDiv" class="loginoptions">
					<a href="javascript:createAccount()">Create an account</a> | <a
						href="javascript:recoverPassword()">Forget your info?</a>
				</div>
			</div>
			<div class="info"></div>
		</div>
		<div id="trackPage" style="display: none;">
			<div class="trackDay">
				<div id="header">
					<div id="fetchingData" style="height: 20px; width: 100%; display:none;">
						<img src='../images/spinner.gif' /> Fetching data from Curious
					</div>
					<div class="dateBar">
						<a class="back" href="#" onclick="changeDate(-1);"><span>back</span></a>
						<span class="date"><input id="datepicker" type="text"
							value="" /></span> <a class="next" href="#" onclick="changeDate(1);"><span>next</span></a>
						<div style="clear: both"></div>
					</div>

					<div id="autocomplete"
						style="position: absolute; top: 10px; right: 10px;"></div>

					<div class="dataEntry">
						<form id="taginput" onsubmit="return false;" action="#"
							style="padding-top: 0.7em; padding-bottom: 0.7em;">
							<input type="text" id="input0" name="data"
								style="width: calc(100% - 110px); margin-right: 5px;"
								class="textField" />
							<div style="display: inline-block; vertical-align: middle;">
								<a href="#" onclick="modifyInput('repeat')"><img
									src="../images/repeat.png" style="width: 20px; height: 20px;"></a>
								<a href="#" onclick="modifyInput('remind')"><img
									src="../images/remind.png" style="width: 20px; height: 20px;"></a>
								<a href="#" onclick="modifyInput('pinned')"><img
									src="../images/pin.png" style="width: 20px; height: 20px;"></a>
							</div>
						</form>
						<hr />
					</div>
				</div>

				<div id="content">
					<div class="dataTags">
						<div id="recordList"
							style="overflow: auto; -webkit-overflow-scrolling: touch;">
							<ol id="entry0" style="width: 100%;">
							</ol>
						</div>
					</div>
				</div>

				<div id="footer">
					<div class="userInfo">
						<div id="displayUser" class="username">Username</div>
						<div class="online">
							<a href="#" onclick="askLogout()" class="indicator">Log Out</a>
						</div>
						<div style="clear: both"></div>
					</div>
				</div>
			</div>

		</div>
	</div>
	<script type="text/javascript" src="../cordova.js"></script>
	<script type="text/javascript" src="../js/mobile/index.js"></script>
	<script type="text/javascript">
		console.log("App object: "+app);
    	app.initialize();
    </script>
</body>
</html>